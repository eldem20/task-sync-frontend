import React from 'react';
import { useNavigate } from 'react-router-dom';
import Header from '../components/layout/Header';
import BottomNav from '../components/layout/BottomNav';
import './MenuPage.css';
import { useMediaQuery } from 'react-responsive';

const MenuPage = () => {
    const navigate = useNavigate();
    const isDesktop = useMediaQuery({ minWidth: 768 });

    const menuButtons = {
        leftColumn: [
            {
                id: 'settings',
                label: 'Settings',
                icon: <svg width={isDesktop ? "36" : "24"} height={isDesktop ? "35" : "24"} viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 15.75C9.93 15.75 8.25 14.07 8.25 12C8.25 9.93 9.93 8.25 12 8.25C14.07 8.25 15.75 9.93 15.75 12C15.75 14.07 14.07 15.75 12 15.75ZM12 9.75C10.76 9.75 9.75 10.76 9.75 12C9.75 13.24 10.76 14.25 12 14.25C13.24 14.25 14.25 13.24 14.25 12C14.25 10.76 13.24 9.75 12 9.75Z" fill="#292D32" />
                    <path d="M15.21 22.19C15 22.19 14.79 22.16 14.58 22.11C13.96 21.94 13.44 21.55 13.11 21L12.99 20.8C12.4 19.78 11.59 19.78 11 20.8L10.89 20.99C10.56 21.55 10.04 21.95 9.42 22.11C8.79 22.28 8.14 22.19 7.59 21.86L5.87 20.87C5.26 20.52 4.82 19.95 4.63 19.26C4.45 18.57 4.54 17.86 4.89 17.25C5.18 16.74 5.26 16.28 5.09 15.99C4.92 15.7 4.49 15.53 3.9 15.53C2.44 15.53 1.25 14.34 1.25 12.88V11.12C1.25 9.65998 2.44 8.46998 3.9 8.46998C4.49 8.46998 4.92 8.29998 5.09 8.00998C5.26 7.71998 5.19 7.25998 4.89 6.74998C4.54 6.13998 4.45 5.41998 4.63 4.73998C4.81 4.04998 5.25 3.47998 5.87 3.12998L7.6 2.13998C8.73 1.46998 10.22 1.85998 10.9 3.00998L11.02 3.20998C11.61 4.22998 12.42 4.22998 13.01 3.20998L13.12 3.01998C13.8 1.85998 15.29 1.46998 16.43 2.14998L18.15 3.13998C18.76 3.48998 19.2 4.05998 19.39 4.74998C19.57 5.43998 19.48 6.14998 19.13 6.75998C18.84 7.26998 18.76 7.72998 18.93 8.01998C19.1 8.30998 19.53 8.47998 20.12 8.47998C21.58 8.47998 22.77 9.66998 22.77 11.13V12.89C22.77 14.35 21.58 15.54 20.12 15.54C19.53 15.54 19.1 15.71 18.93 16C18.76 16.29 18.83 16.75 19.13 17.26C19.48 17.87 19.58 18.59 19.39 19.27C19.21 19.96 18.77 20.53 18.15 20.88L16.42 21.87C16.04 22.08 15.63 22.19 15.21 22.19ZM12 18.49C12.89 18.49 13.72 19.05 14.29 20.04L14.4 20.23C14.52 20.44 14.72 20.59 14.96 20.65C15.2 20.71 15.44 20.68 15.64 20.56L17.37 19.56C17.63 19.41 17.83 19.16 17.91 18.86C17.99 18.56 17.95 18.25 17.8 17.99C17.23 17.01 17.16 16 17.6 15.23C18.04 14.46 18.95 14.02 20.09 14.02C20.73 14.02 21.24 13.51 21.24 12.87V11.11C21.24 10.48 20.73 9.95998 20.09 9.95998C18.95 9.95998 18.04 9.51998 17.6 8.74998C17.16 7.97998 17.23 6.96998 17.8 5.98998C17.95 5.72998 17.99 5.41998 17.91 5.11998C17.83 4.81998 17.64 4.57998 17.38 4.41998L15.65 3.42998C15.22 3.16998 14.65 3.31998 14.39 3.75998L14.28 3.94998C13.71 4.93998 12.88 5.49998 11.99 5.49998C11.1 5.49998 10.27 4.93998 9.7 3.94998L9.59 3.74998C9.34 3.32998 8.78 3.17998 8.35 3.42998L6.62 4.42998C6.36 4.57998 6.16 4.82998 6.08 5.12998C6 5.42998 6.04 5.73998 6.19 5.99998C6.76 6.97998 6.83 7.98998 6.39 8.75998C5.95 9.52998 5.04 9.96998 3.9 9.96998C3.26 9.96998 2.75 10.48 2.75 11.12V12.88C2.75 13.51 3.26 14.03 3.9 14.03C5.04 14.03 5.95 14.47 6.39 15.24C6.83 16.01 6.76 17.02 6.19 18C6.04 18.26 6 18.57 6.08 18.87C6.16 19.17 6.35 19.41 6.61 19.57L8.34 20.56C8.55 20.69 8.8 20.72 9.03 20.66C9.27 20.6 9.47 20.44 9.6 20.23L9.71 20.04C10.28 19.06 11.11 18.49 12 18.49Z" fill="#292D32" />
                </svg>,
                path: '/settings',
                isFirst: true 
            },
            {
                id: 'pomodoro',
                label: 'Pomodoro',
                icon: <svg width={isDesktop ? "36" : "24"} height={isDesktop ? "35" : "24"} viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 8V13" stroke="#292D32" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
                    <path d="M12 22C7.17 22 3.25 18.08 3.25 13.25C3.25 8.42 7.17 4.5 12 4.5C16.83 4.5 20.75 8.42 20.75 13.25" stroke="#292D32" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
                    <path d="M9 2H15" stroke="#292D32" strokeWidth="1.5" strokeMiterlimit="10" strokeLinecap="round" strokeLinejoin="round" />
                    <path d="M14.9 18.5V17.34C14.9 15.91 15.92 15.32 17.16 16.04L18.16 16.62L19.16 17.2C20.4 17.92 20.4 19.09 19.16 19.81L18.16 20.39L17.16 20.97C15.92 21.69 14.9 21.1 14.9 19.67V18.5Z" stroke="#292D32" strokeWidth="1.5" strokeMiterlimit="10" strokeLinecap="round" strokeLinejoin="round" />
                </svg>,
                path: '/timer',
                isFirst: false
            }
        ],
        rightColumn: [
            {
                id: 'tasks',
                label: 'Tasks',
                icon: <svg width={isDesktop ? "36" : "24"} height={isDesktop ? "35" : "24"} viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M16.75 3.56V2C16.75 1.59 16.41 1.25 16 1.25C15.59 1.25 15.25 1.59 15.25 2V3.5H8.74998V2C8.74998 1.59 8.40998 1.25 7.99998 1.25C7.58998 1.25 7.24998 1.59 7.24998 2V3.56C4.54998 3.81 3.23999 5.42 3.03999 7.81C3.01999 8.1 3.25999 8.34 3.53999 8.34H20.46C20.75 8.34 20.99 8.09 20.96 7.81C20.76 5.42 19.45 3.81 16.75 3.56Z" fill="black" />
                    <path opacity="0.4" d="M20 9.83997C20.55 9.83997 21 10.29 21 10.84V17C21 20 19.5 22 16 22H8C4.5 22 3 20 3 17V10.84C3 10.29 3.45 9.83997 4 9.83997H20Z" fill="black" />
                    <path d="M8.5 15C8.24 15 7.98 14.89 7.79 14.71C7.61 14.52 7.5 14.26 7.5 14C7.5 13.74 7.61 13.48 7.79 13.29C8.07 13.01 8.51 12.92 8.88 13.08C9.01 13.13 9.12 13.2 9.21 13.29C9.39 13.48 9.5 13.74 9.5 14C9.5 14.26 9.39 14.52 9.21 14.71C9.02 14.89 8.76 15 8.5 15Z" fill="black" />
                    <path d="M12 15C11.74 15 11.48 14.89 11.29 14.71C11.11 14.52 11 14.26 11 14C11 13.74 11.11 13.48 11.29 13.29C11.38 13.2 11.49 13.13 11.62 13.08C11.99 12.92 12.43 13.01 12.71 13.29C12.89 13.48 13 13.74 13 14C13 14.26 12.89 14.52 12.71 14.71C12.66 14.75 12.61 14.79 12.56 14.83C12.5 14.87 12.44 14.9 12.38 14.92C12.32 14.95 12.26 14.97 12.2 14.98C12.13 14.99 12.07 15 12 15Z" fill="black" />
                    <path d="M15.5 15C15.24 15 14.98 14.89 14.79 14.71C14.61 14.52 14.5 14.26 14.5 14C14.5 13.74 14.61 13.48 14.79 13.29C14.89 13.2 14.99 13.13 15.12 13.08C15.3 13 15.5 12.98 15.7 13.02C15.76 13.03 15.82 13.05 15.88 13.08C15.94 13.1 16 13.13 16.06 13.17C16.11 13.21 16.16 13.25 16.21 13.29C16.39 13.48 16.5 13.74 16.5 14C16.5 14.26 16.39 14.52 16.21 14.71C16.16 14.75 16.11 14.79 16.06 14.83C16 14.87 15.94 14.9 15.88 14.92C15.82 14.95 15.76 14.97 15.7 14.98C15.63 14.99 15.56 15 15.5 15Z" fill="black" />
                    <path d="M8.5 18.5C8.37 18.5 8.24 18.47 8.12 18.42C7.99 18.37 7.89 18.3 7.79 18.21C7.61 18.02 7.5 17.76 7.5 17.5C7.5 17.24 7.61 16.98 7.79 16.79C7.89 16.7 7.99 16.63 8.12 16.58C8.3 16.5 8.5 16.48 8.7 16.52C8.76 16.53 8.82 16.55 8.88 16.58C8.94 16.6 9 16.63 9.06 16.67C9.11 16.71 9.16 16.75 9.21 16.79C9.39 16.98 9.5 17.24 9.5 17.5C9.5 17.76 9.39 18.02 9.21 18.21C9.16 18.25 9.11 18.3 9.06 18.33C9 18.37 8.94 18.4 8.88 18.42C8.82 18.45 8.76 18.47 8.7 18.48C8.63 18.49 8.57 18.5 8.5 18.5Z" fill="black" />
                    <path d="M12 18.5C11.74 18.5 11.48 18.39 11.29 18.21C11.11 18.02 11 17.76 11 17.5C11 17.24 11.11 16.98 11.29 16.79C11.66 16.42 12.34 16.42 12.71 16.79C12.89 16.98 13 17.24 13 17.5C13 17.76 12.89 18.02 12.71 18.21C12.52 18.39 12.26 18.5 12 18.5Z" fill="black" />
                    <path d="M15.5 18.5C15.24 18.5 14.98 18.39 14.79 18.21C14.61 18.02 14.5 17.76 14.5 17.5C14.5 17.24 14.61 16.98 14.79 16.79C15.16 16.42 15.84 16.42 16.21 16.79C16.39 16.98 16.5 17.24 16.5 17.5C16.5 17.76 16.39 18.02 16.21 18.21C16.02 18.39 15.76 18.5 15.5 18.5Z" fill="black" />
                </svg>,
                path: '/tasks',
                isFirst: true
            },
            {
                id: 'time-blocks',
                label: 'Time Blocking',
                icon: <svg width={isDesktop ? "36" : "24"} height={isDesktop ? "35" : "24"} viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M16 8.98999V20.35C16 21.8 14.96 22.41 13.69 21.71L9.76001 19.52C9.34001 19.29 8.65999 19.29 8.23999 19.52L4.31 21.71C3.04 22.41 2 21.8 2 20.35V8.98999C2 7.27999 3.39999 5.88 5.10999 5.88H12.89C14.6 5.88 16 7.27999 16 8.98999Z" stroke="#292D32" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
                    <path d="M22 5.10999V16.47C22 17.92 20.96 18.53 19.69 17.83L16 15.77V8.98999C16 7.27999 14.6 5.88 12.89 5.88H8V5.10999C8 3.39999 9.39999 2 11.11 2H18.89C20.6 2 22 3.39999 22 5.10999Z" stroke="#292D32" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
                    <path d="M7 12H11" stroke="#292D32" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
                    <path d="M9 14V10" stroke="#292D32" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" />
                </svg>,
                path: '/time-blocks',
                isFirst: false
            }
        ]
    };

    return (
        <div className="page-container">
            <Header
                title="Menu"
                showBackButton={true}
            />

            <div className="content">
                <div className="menu-grid">
                    <div className="menu-column">
                        {menuButtons.leftColumn.map((button, index) => (
                            <button
                                key={button.id}
                                className={`menu-button ${button.isFirst ? 'first-button' : 'second-button'}`}
                                onClick={() => navigate(button.path)}
                                style={isDesktop ? {} : {
                                    paddingLeft: index === 0 ? '20px' : '12px'
                                }}
                            >
                                <div className="button-icon">
                                    {button.icon}
                                </div>
                                <span className="button-label">{button.label}</span>
                            </button>
                        ))}
                    </div>

                    <div className="menu-column">
                        {menuButtons.rightColumn.map((button, index) => (
                            <button
                                key={button.id}
                                className={`menu-button ${button.isFirst ? 'first-button' : 'second-button'}`}
                                onClick={() => navigate(button.path)}
                                style={isDesktop ? {} : {
                                    paddingLeft: index === 0 ? '20px' : '12px'
                                }}
                            >
                                <div className="button-icon">
                                    {button.icon}
                                </div>
                                <span className="button-label">{button.label}</span>
                            </button>
                        ))}
                    </div>
                </div>
            </div>

            <BottomNav
                onPlusClick={() => navigate(-1)}
                plusIcon="close" 
            />
        </div>
    );
};

export default MenuPage;